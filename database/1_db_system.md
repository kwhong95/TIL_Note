# 1. 데이터베이스

> 조직체의 응용 시스템들이 **공유**해서 사용하는 운영 데이터(operational data)등이 **구조적**으로 **통합**된 모임이다. 데이터베이스의 구조는 사용되는 데이터 모델에 의해 결정된다.

## 특징

- 데이터의 **대규모 저장소**로서, 여러 사용자에 의해 동시 사용됨
- 모든 데이터가 **중복**을 **최소화**하면서 통합됨
- 운영 데이터뿐만 아니라 데이터에 관한 설명(스카마 또는 메타데이터)을 포함함
- 프로그램과 데이터 간의 **독립성**이 제공됨
- 효율적으로 접근이 가능하고 질의 할 수 있음

## 데이터베이스 관리 시스템(DBMS: Database Management System)

> 데이터베이스를 정의, 질의어 지원, 리포트 생성 등의 작업을 수행하는 소프트웨어

# 2. 데이터베이스 시스템(DBS)

## 데이터베이스 시스템의 구성

> 데이터베이스, 사용자, 응용프로그램, DBMS, 하드웨어로 구성

<img width="574" alt="스크린샷 2021-09-06 오후 3 10 02" src="https://user-images.githubusercontent.com/70752848/132168702-a84b526d-f1e9-44f7-992f-d12afb45de56.png">

> 데이터베이스 시스템의 구성요소

![스크린샷 2021-09-06 오후 3 11 42](https://user-images.githubusercontent.com/70752848/132168806-26d8e678-bdfa-4dff-bece-ecf550beca8a.png)

## 데이터베이스 스키마

### 스키마(Schema)

![스크린샷 2021-09-06 오후 3 12 41](https://user-images.githubusercontent.com/70752848/132168883-e04c6e65-5e73-4f62-a15b-26f2a4bcf488.png)

- 전체적인 데이터베이스의 구조
- 자주 변경되지 않음
- 내포(instension) 라고 부름

### 데이터 베이스 상태 (인스턴스)

![스크린샷 2021-09-06 오후 3 13 48](https://user-images.githubusercontent.com/70752848/132168983-f00a0cac-6988-4e46-a0f7-c0737dbd576c.png)

- 특정 시점의 데이터베이스의 내용
- 계속 변하는 특성
- 외연 (extension) 라고 부름

## DBS의 구성 - 데이터베이스

### 데이터베이스

- 조직체의 응용 시스템들이 공유해서 사용하는 운영 데이터들이 구조적으로 통합된 모임
- 시스템 카탈로그(또는 데이터 사전)와 저장된 데이터 베이스로 구분 가능
- **시스템 카탈로그(system catalog)**
  - 시스템 그 자체에 관련이 있는 다양한 객체에 관한 정보를 포함하는 시스템 데이터베이스
  - 저장된 데이터베이스의 스키마 정보를 유지

![스크린샷 2021-09-06 오후 3 18 26](https://user-images.githubusercontent.com/70752848/132169426-694d5ad3-e872-423b-a168-de1abe909250.png)

## DBS의 구성 - 사용자

### 사용자

- 여러 부류로 분류 가능
- 갖추어야할 지식 수준

| 구분            | SQL언어 | 프로그래밍 능력 | DBMS 지식 | 데이터 구성 |
| --------------- | ------- | --------------- | --------- | ----------- |
| 일반 사용자     | 없음    | 없음            | 없음      | 없음        |
| SQL 사용자      | 높음    | 없음            | 보통      | 보통        |
| 응용 프로그래머 | 높음    | 높음            | 보통      | 보통        |
| DB 관리자       | 높음    | 보통            | 높음      | 높음        |

## DBS의 구성 - 하드웨어

### 하드웨어

- 데이터베이스는 디스크와 보조 기억 장치에 저장되며, DBMS에서 원하는 정보를 찾기 위해서는 디스크의 블록들을 주기억장치로 읽어 들여야 하며, 계산이나 비교 연산들을 수행하기 위해 중앙 처리 장치가 사용됨
- DBMS 자체도 주기억 장치에 적재되어 실행되어야 함

## 데이터베이스 시스템의 요구사항

### 요구사항

- 데이터 독립성
- 효율적인 데이터 접근
- 데이터에 대한 동시 접근
- 백업과 회복
- 종복을 줄이거나 제어하며 일관성 유지
- 데이터 무결성
- 데이터 보안
- 쉬운 질의어
- 다양한 사용자 인터페이스

# 3. 파일 시스템 VS DBMS

## 파일 시스템

### 파일 시스템을 사용한 기존의 데이터 관리

- 과거의 데이터를 관리하기 위해 파일 시스템 사용
- 데이터 파일로 관리 가능하도록 파일을 생성, 삭제, 수정, 검색 기능 제공
- 퍼일 접근 방식이 응용 프로그램 내에 상세히 표현되므로 데이터에 대한 응용 프로그램의 의존도가 높음

![스크린샷 2021-09-06 오후 3 29 03](https://user-images.githubusercontent.com/70752848/132170547-7bae2f4c-e89f-4aa8-b7f8-2e8158daeea4.png)

> 파일 시스템은 각 응용프로그램이 독립적으로 다루기 때문에 데이터들이 중복으로 저장될 수 있고 동시에 파일을 다루기 때문에 데이터의 일관성 훼손될 수 있음

## EXAMPLE 1

### [Program 1]

- 데이터를 프로그램 내부에 저장
  - C 언어의 구조체 `BOOK`을 먼저 선언하고 `main()`프로그램에서 구조체 배열 변수 `BOOK[]`에 데이터를 저장
  - 도서 데이터는 프로그램 내 구조체 변수에 저장됨
  - _문제점_ : 새로운 데이터가 생길 시 프로그램을 수정한 후 다시 컴파일해야 함

![스크린샷 2021-09-06 오후 3 34 12](https://user-images.githubusercontent.com/70752848/132171069-934ea44e-29ad-4ea0-bdac-1f3a27de9416.png)

## EXAMPLE 2

### [Program 2]

- 데이터를 프로그램 내부에 저장

  - `BOOK` 데이터 구조를 먼저 선언하고 `main()` 프로그램에서 파일로부터 데이터를 불러와 구조체 배열 변수 `BOOK[]`에 저장
  - 새로운 데이터가 추가되어도 프로그램을 수정할 필요 없음
  - _문제점_ : 같은 파일을 두 개의 프로그램이 공유하는 것이 운영체제의 도움 없이 불가능

  ![스크린샷 2021-09-06 오후 3 38 30](https://user-images.githubusercontent.com/70752848/132171547-8fb88ce4-0192-4ada-b017-cb9072c264eb.png)

  ## 파일 시스템의 단점

  ### 단점

  - 데이터가 많은 파일에 중복되어 저장 됨
  - 다수 사용자들을 위한 동시성 제어가 제공되지 않음
  - 검색하려는 데이터를 쉽게 명시하는 질의어가 제공되지 않음
  - (사용자별로) 보안 조치가 미흡
  - 회복 기능이 없음
  - 프로그램-데이터 독립성이 없으므로 유지보수 비용이 많이 소요됨
  - 파일을 검색하거나 갱신하는 절차가 상대적으로 복잡하기 때문에 프로그래머의 생산성이 낮음
  - 데이터의 공유와 융통성 부족

#### 간단한 MOCK 데이터, 수정이 필요없는 데이터는 CSV, JSON과 같은 파일 시스템으로 사용함

> 파일 시스템의 데이터 중복성, 데이터의 중속성의 문제로 <span style="color:red">**데이터베이스 관리 시스템**</span>이 등장하게 됨

## DBMS를 사용한 데이터베이스 관리

- 여러 사용자와 응용 프로그램들이 데이터베이스를 공유 - **동시성** 보장
- 사용자의 질의를 빠르게 수행할 수 있는 인덱스 등의 접근 경로를 DBMS가 자동적으로 선택하여 수행 - **질의어** 제공
- 권한이 없는 사용자로부터 데이터베이스를 보호
- 여러 사용자에 적합한 다양한 인터페이스를 제공
- 무결성 제약조건을 자동적으로 유지
- 시스템 고장 시 데이터베이스를 고장 전 상태로 회복
- 프로그램 영향 없이 구조 변경 가능 - **프로그램-데이터 독립성**

## DBMS의 장점

- 중복성 및 불일치 감소
- 시스템 개발 유지 비용 감소
- 표준화 용이
- 보안 향상
- 무결성 향상
- 조직체 요구사항 식별 가능
- 다양한 유형 고장으로부터 데이터베이스 회복 가능
- 공유 및 동시접근 가능

## DBMS의 단점

- 추가 하드웨어 구입 비용이 들고, 자체 구입 비용이 상당히 비쌈
- 직원 교육 비용도 많이 소요
- 비밀과 프라이버시 노출등의 단점 존재 가능
- 초기 투자 비용이 크거나, 오버헤드가 너무 크거나, 응용이 단순하고 잘 정의되었으며 변경되지 않을 것으로 예상되거나, 엄격한 실시간 처리 요구사항이 있거나, 데이터에 대한 다수 사용자의 접근이 필요하지 않을 때는 DBMS를 사용하지 않는 것이 바람직할 수 있음

## EXAMPLE

### [Program 3]

- 데이터를 DBMS 내부에 저장

  - 데이터의 정의와 데이터 값을 DBMS가 관리
  - DBMS는 데이터 정의, 데이터 변경 드으이 작업을 할 수 있는 별도의 프로그램 존재
  - 프로그램에 데이터 정의나 데이터 값을 포함하지 않기 때문에 데이터 구조가 바뀌어도 다시 컴파일할 필요 업음

  ![스크린샷 2021-09-06 오후 3 58 32](https://user-images.githubusercontent.com/70752848/132173830-b57bef5c-f4f8-4c47-bbb7-f32b8cfd5eaf.png)

## 파일 시스템과 DBMS의 비교

| 구분                | 파일 시스템                     | DBMS                                   |
| ------------------- | ------------------------------- | -------------------------------------- |
| 데이터 정의         | 응용 프로그램                   | DBMS                                   |
| 데이터 저장         | 파일 시스템                     | 데이터베이스                           |
| 데이터 접근 방법    | 응용프로그램이 파일에 직접 접근 | 응용프로그램이 DBMS에 파일 접근을 요청 |
| 사용 언어           | 자바, C++, C 등                 | 자바, C++, C등과 SQL                   |
| CPU/주기억장치 사용 | 적음                            | 많음                                   |

![스크린샷 2021-09-06 오후 4 01 39](https://user-images.githubusercontent.com/70752848/132174224-ff71be53-ba2c-47bd-9142-18e67e2da454.png)

# DBMS의 발전 과정

## 데이터 모델

### 데이터 모델

> DB의 구조를 기술하는데 사용되는 개념들의 집합 구조

### 종류

- 계층 데이터 모델
- 네트워크 --
- 객체 --
- **관계** --
- 객체-관계 --

### 학생-강좌 관계를 표현

![스크린샷 2021-09-06 오후 4 15 57](https://user-images.githubusercontent.com/70752848/132175789-a5c328a5-c7cd-4af1-a84c-3d0ba86d34f5.png)

1. 포인터 사용: 계층 데이터 모델, 네트워크 데이터 모델
   ![스크린샷 2021-09-06 오후 4 16 50](https://user-images.githubusercontent.com/70752848/132175865-51d7cf40-f07f-474f-a6b3-2a31f1a1b231.png)

> 데이터를 직접 접근식, 프로그램 속도는 빠르나 개발 속도가 느림

2. 속성 값 사용: 관계 데이터 모델
   ![스크린샷 2021-09-06 오후 4 18 27](https://user-images.githubusercontent.com/70752848/132176028-f1491958-fbd1-45b0-8b10-b60d813c9ab0.png)

> 프로그램 속도는 다소 늦을 수 있으나, 개념이 쉽고 개발이 빨라 가장 많이 사용

3. 객체식별자 사용: 객체 데이터 모델
   ![스크린샷 2021-09-06 오후 4 19 56](https://user-images.githubusercontent.com/70752848/132176196-81d4541a-9ced-4bb1-8910-26b29a0db400.png)

> 객체 데이터 접근으로 상속 및 캡슐화 이용

## DBMS 발전 과정 - 계층 DBMS

### 계층 DBMS(Hierarchical data model)

- 1960년대 후반 최초 계층 DBMS 등장(EX: IBM사의 IMS)
- 트리 구조 기반의 계층 데이터 모델을 사용한 DBMS
- 계층 데이터 모델은 네트워크 데이터 모델의 특별 사례
- 장점
  - 어떤 유형의 응용에 대해서는 빠른 속도와 높은 효율성 제공
- 단점
  - 데이터 접근 방법을 미리 응용 프로그램에 정의 필요
  - DB 생성 시 관계를 명시적으로 정의 필요
  - 레코드들이 링크로 연결되어 구조를 변경하기 어려움

![스크린샷 2021-09-06 오후 4 24 31](https://user-images.githubusercontent.com/70752848/132176737-3e0ce62b-a255-4cdc-97bb-3564d70c8317.png)

## DBMS 발전 과정 - 네트워크 DBMS

### 네트워크 DBMS

- 1960년대 초에 하니웰사에서 최초 네트워크 DBMS인 IDS를 개발
- 레코들이 노드로, 레코드들 사이의 관계가 간선으로 표현되는 그래프를 기반으로하는 네트워크 데이터 모델을 사용
- 네트워크 DBMS에서도 레코드들이 링크로 연결되어 구조 변경이 어려움

![스크린샷 2021-09-06 오후 4 27 16](https://user-images.githubusercontent.com/70752848/132177040-3c93597e-c583-466f-a031-297a9286ff0a.png)

## DBMS 발전 과정 - 관계 DBMS

### 관계 DBMS

- 1970년에 IBM 연구소에서 관계 데이터 모델을 제안
- 장점
  - 모델이 간단하여 이해가 쉬움
  - 사용자는 원하는 것(What)만 명시하고, 데이터의 위치와 접근 방식은 DBMS가 결정
- EX: **MS SQL Server**, Oracle, Sybase, DB2, MYSQL 등

## DBMS 발전 과정 - 객체 지향 DBMS와 객체 관계 DBMS

### 객체 지향 DBMS

- 객체 지향 프로그래밍 패러다임 기반의 데이터 모델
- 장점
  - 데이터와 프로그램 그룹화
  - 복잡한 객체 이해 단순화 및 유지 변경 용이
- EX: ONTOS, OpenODB, GemStone 등

### 객체 관계 DBMS

- 관계 DBMS에 객체 지향 개념을 통합한 데이터 모델
- EX: 오라클, Informix, Universal Server 등

# DBMS 언어

## 데이터 정의어(DDL: Data Definition Language)

- 데이터 정의어를 사용하여 데이터 스키마 정의
- 데이터 정의어로 명시된 문장이 입력, DBMS는 사용자가 정의한 스키마에 대한 명세를 시스템 카탈로그 또는 데이터 사전에 저장
- 데이터 정의어의 기본적인 기능
  - 데이터 모델에서 지원하는 데이터 구조 생성(EX, SQL에서 CREATE TABLE)
  - 구조 변경(ALTER TABLE)
  - 구조 삭제(DROP TABLE)
  - 데이터 접근을 위해 특정 애트리뷰트 위에 인덱스 정의(CREATE INDEX)

## 데이터 조작어(DML: Data Multipulation Language)

- DB의 원하는 데이터를 검색(SELECT), 수정(UPDATE), 삽입(INSERT), 삭제(DELETE)
- 절차적 언어(procedural language)와 비절차적 언어(non-procedural language)
- 관계 DBMS에서 사용되는 SQL은 대표적 비절차적 언어
- SUM, COUNT, AVG와 같은 내장 함수를 가짐
- 단말기에서 대화식 입력을 수행되거나 C, 코볼등의 고급 프로그래밍 언어로 작성된 프로그램에 내포되어 사용

## 데이터 제어어(DCL: Data Control Language)

- DB 트랜잭션을 명시하고 권한을 부여하거나 취소

# DBMS 사용자

## DBMS 사용자 - 데이터베이스 관리자

### 데이터베이스 관리자(DBA: Database Administractor)

- 조직의 여러 부분의 상이한 요구를 만족시키기 위해서 일관성 있는 데이터베이스 스키마를 생성하고 유지하는 사람(팀)
- 역할
  - 데이베이스 스키마의 생성과 변경
  - 무결성 제약조건 명시
  - 권한 허용 및 취소, 역할 관리
  - 저장 구조와 접근 방법(물리적 스키마) 정의
  - 백업과 회복
  - 표준화 시행

## DBMS 사용자 - 응용 프로그래머

- 데이터베이스 위에서 특정 응용(EX, 고객관리, 인사 관리, 재고 관리 등)이나 인터페이스를 구현하는 사람
- 고급 프로그래밍 언어인 C, Java 등으로 응용 프로그램을 개발하면서 데이터베이스를 접근하는 부분은 내포된 데이터 조작어를 사용
- 작성한 프로그램은 최종 사용자들이 반복해서 수행하므로 기작성 트랜잭션(canned transaction)이라 부름

## DBMS 사용자 - 기타

### 최종사용자(end user)

- 질의와 갱신 또는 보고서를 생성하기 위해 데이터베이스를 사용하는 사람
- 데이터 질의어를 사용하여 매번 다른 정보를 찾는 캐주얼 사용자와 기작성 트랜잭션을 주로 반복하여 수행하는 초보 사용자로 구분

### 데이터베이스 설계자(database designer)

- ERWin 등의 CASE 도구들을 이용해서 데이터베이스 설계(LifeCycle) 담당
- 일관성 유지를 위한 정규화 수행

### 오퍼레이터

- DBMS가 운영되고 있는 컴퓨터 시스템과 전산실을 관리
