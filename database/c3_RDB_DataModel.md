# Chapter 3 관계 데이터 모델과 제약조건

## 관계 데이터 모델의 구성 요소

### 데이터 모델 (data model)

- 현실 세계의 데이터를 명세하는 고유한 표현 방식 - 데이터 모델링을 위한 도구
- 데이터 구조와 연산, 제약조건 3가지 요소로 구성

![스크린샷 2021-09-22 오후 8 11 14](https://user-images.githubusercontent.com/70752848/134333574-122315ef-d806-4e2a-9844-1f2afecc8786.png)

### 관계형 데이터 모델

- 관계형 데이터 모델은 데이터를 2차원 테이블 형태인 **릴레이션**으로 표현
- 릴레이션에 대한 제약조건(constraints)과 관계 연산을 위한 관계대수(relational algebra)를 정의

![스크린샷 2021-09-22 오후 8 14 17](https://user-images.githubusercontent.com/70752848/134333828-f4bb3014-0ef7-4ed6-a1ea-d5131677d838.png)

## 관계 데이터 모델의 개념

### 릴레이션

- 릴레이션(Relation)
  - 2차원 테이블(행과 열로 구성된 테이블)
- 속성, 애트리뷰트(Attribute)
  - 테이블의 열(Column)
  - 속성 이름을 보면 어떤 종류의 데이터 값이 저장되는지 그 의미를 알 수 있음
- 투플(Tuple)
  - 테이블의 행(Row)
  - 각 속성 값들의 조합으로 구성

![스크린샷 2021-09-22 오후 8 16 46](https://user-images.githubusercontent.com/70752848/134334145-0e39be6c-f7f3-4579-8fc3-1219f0113883.png)

![스크린샷 2021-09-22 오후 8 21 49](https://user-images.githubusercontent.com/70752848/134334889-c195bb55-f960-4182-8d2b-098095934c5b.png)

## 도메인

### 도메인(Domain)

- 한 애트리뷰트에 나타낼 수 있는 값들의 집합
- 각 애트리뷰트의 도메인의 값들은 원자의 값
- 프로그래밍 언어의 데이터 타입과 유사함
- 동일한 도메인이 여러 애트리뷰트에서 사용될 수 있음

## 차수와 카디날리티

### 차수(Degree)

- 한 릴레이이션에 들어 있는 애트리뷰트들의 수
  - 유효한 릴레이션의 최소 차수는 1
  - 릴레이션의 차수는 자주 바뀌지 않음(정적 특성)

### 카디날리티(Cardinality)

- 릴레이션의 투플 수
  - 유효한 릴레이션은 카디날리티 0을 가질 수 있음
  - 릴레이션의 카디날리티는 입력, 수정, 삭제 등을 통해 계속 변함(동적 특성)

![스크린샷 2021-09-22 오후 8 21 11](https://user-images.githubusercontent.com/70752848/134334795-5e76a3c2-8c4f-47d2-9eb7-b4f6bbdf59b9.png)

## 널(NULL)

### 널값(null)

- "알려지지 않음" 또는 "적용할 수 없음"을 나타내기 위한 값  
  예) 사원 릴레이션에 새로운 사원에 관한 투플을 입력하는데, 신입 사원의 DNO(부서번호)가 결정되지 않았을 수 있음
- 널값은 숫자 도메인의 0이나 문자열 도메인의 공백 문자 또는 공백 문자열과 다름
- DBMS들마다 널값을 나타내기 위해 서로 다른 기호를 사용함

## 스키마와 인스턴스

### 릴레이션 스키마(relation schema)

- 릴레이션의 이름과 애트리뷰트들의 집합
  - 릴레이션 이름(애트리뷰트 이름1, 애트리뷰트 이름2, ..., 애트리뷰트 이름N)
- 기본 키 애트리뷰트에는 밑줄 표시
- 내포(intension)라고 함

### 릴레이션 인스턴스(relation instanse)

- 릴레이션에 어느 시점에 들어 있는 투플들의 집합
- 시간의 흐름에 따라 계속 변함
- 일반적으로 릴레이션에 현재의 인스턴스만 저장
- 외연(extension)이라고 함

![스크린샷 2021-09-22 오후 8 27 19](https://user-images.githubusercontent.com/70752848/134335560-73e99c7e-d4f2-44c3-ba57-ead383d96f10.png)

### 관계 데이터베이스 스키마

- 하나이상의 릴레이션 스키마들로 이루어짐

![스크린샷 2021-09-22 오후 8 28 10](https://user-images.githubusercontent.com/70752848/134335668-13bee491-f78f-4df3-9265-336996256ded.png)

### 관계 데이터베이스 인스턴스

- 릴레이션 인스턴스드르이 모임으로 구성됨

![스크린샷 2021-09-22 오후 8 28 48](https://user-images.githubusercontent.com/70752848/134335749-3cee21ea-8e96-4a02-a4c4-0759f522ebac.png)

## 데이터베이스

### 데이터 베이스 구성의 예

![스크린샷 2021-09-22 오후 8 29 34](https://user-images.githubusercontent.com/70752848/134335833-b59310d0-888a-46e6-8a28-917f6c3ebe9f.png)

## 릴레이션의 특성

### 투플의 유일성(uniqueness of tuple)

- 동일한 투플이 두 개 이상 존재하지 않음(키가 존재함)
- 하나의 릴레이션은 투플들의 집합이기 때문에 모든 투플은 서로 달라야 함

![스크린샷 2021-09-22 오후 8 31 11](https://user-images.githubusercontent.com/70752848/134336026-06604f1e-ce14-456c-b441-2d34f70fa046.png)

### 애트리뷰트의 무순서성(no ordering of attribute)

- 릴레이션의 애트리뷰트 사이에 순서는 의미가 없음
- 속성 값은 애트리뷰트의 순서가 아닌 속성 이름에 의해 참조됨

![스크린샷 2021-09-22 오후 8 32 31](https://user-images.githubusercontent.com/70752848/134336199-a698c01a-d3fd-4127-8378-2ed29db68b3c.png)

### 투플의 무순서성(no ordering of tuple)

- 릴레이션의 투플 사이에 순서는 의미가 없음
- 집합은 포함한 원소들 사이에 순서가 없음
- 투플의 집합인 릴레이션 역시 투플 사이에 순서를 갖지 않음

![스크린샷 2021-09-22 오후 8 33 56](https://user-images.githubusercontent.com/70752848/134336390-928a6ea9-7510-448d-a4c5-80600581ae8a.png)

### 애트리뷰트의 원자성(atomicity of attribute)

- 릴레이션을 구성하는 모든 애트리뷰트 값은 의미적으로 더 이상 분해할 수 없는 하나의 원자 값만을 갖음
- 각 애트리뷰트 값으로 의미적으로 더 쪼개서 사용할 수 있는 값이나 여러 개의 값이 허용되지 않음
- 릴레이션은 다중 값 속성이나 복합 애트리뷰트를 허용하지 않음

![스크린샷 2021-09-22 오후 8 35 51](https://user-images.githubusercontent.com/70752848/134336590-7b2f71bd-531a-45fe-9d9c-e54c9fbf054a.png)

### 애트리뷰트는 서로 다른 이름을 가짐

- 한 릴레이션에서 서로 다른 이름을 가져야 함

### 애트리뷰트의 내의 값들은 모두 같은 유형

- 한 애트리뷰트에 속한 열은 모두 그 애트리뷰트에서 정의한 도메인 값만 가질 수 있음
