# 자료의 정리 II

## 줄기-잎 그림

### 히스토그램의 부족한 점

- 전체 **윤곽(형태)**에 대한 표현은 가능하나 **개별 데이터에 대한 표현은 불가능**

### 데이터 분해

- Data 값 = "큰 단위(stem)" + "작은 단위(leaf)"로 표현 가능
  - ex) 625 = 600 + 25 or 620 + 5
- 모든 데이터 값을 stem + leaf의 형태로 표현

![스크린샷 2021-09-14 오후 10 39 33](https://user-images.githubusercontent.com/70752848/133268184-5f4888df-ae3c-4188-ad9b-7b2e010dd7e5.png)

### 작성 방법

- 원자료를 크기 순으로 나열
- 두 부분으로 나누어 앞부분은 줄기, 뒷부분은 잎으로 함
- 크기 순으로 수직 배열
- 수치를 해당 줄기의 우측 옆에 앞부분만 기록

### Example(금속판 두께 자료)

![스크린샷 2021-09-14 오후 10 42 00](https://user-images.githubusercontent.com/70752848/133268561-69819551-551f-4608-9c78-d1d2f25bf9ec.png)

### 장점 및 주의점

- 원자료 그대로 보존 -> 정보가 유실되지 않음
- 자료가 크기순 나열 -> Q1, Q2, Q3 등을 쉽게 구할 수 있음
- 자료가 많은 경우 부적합 -> 히스토그램이 더 편리

## 상자(수염)그림

> 줄기-잎의 단점을 보완한 하이브리드형 그림

### Box plot / Box-whisker plot?

- **Median(중간값-서수 !== 평균-기수)**, **사분위수**, **내외부 울타리(Inner Fence;IF, Outer Fence;OF)** 등을 토대로 데이터 **범위**, **spread**, **center** 등을 box를 이용하여 시각적으로 display 하는 방법
- 분포의 **위치**, **산포도**, **대칭성** 또는 **치우침**, 이상값의 존재 유무에 관한 정보 제공
- 분포의 꼬리 부분 즉 이상치의 존재 유무를 파악하는 데 효과적
- 여러 개의 **data set을 동시에 비교**하는 데 효과적

![스크린샷 2021-09-14 오후 10 44 45](https://user-images.githubusercontent.com/70752848/133269024-348fbc19-0512-43a6-a682-a283fa4373b5.png)

> 수염(2) + 상자(3), 총 5개의 선 위치를 파악하는 것이 핵심! 옆 넓이는 중요하지 않고 위 아래 길이를 중시할 것!

### 상자그림의 작성

- Q1과 Q3를 잇는 상자를 그리고 상자 안에 median에 해당하는 위치에 선을 긋는다

- 내외부울타리를 그린다
  - 내부 울타리
    - 하 내부울타리(lower inner fence; LIF)= Q1-1.5\*IQR
    - 상 내부울타리(upper inner fence; UIF)= Q3_1.5\*IQR
  - 외부 울타리
    - 하 외부울타리(lower outer fence; LOF)= Q1-3.0\*IQR
    - 상 외부울타리(upper outer fence; UOF)= Q3+3.9\*IQR

![스크린샷 2021-09-14 오후 11 12 47](https://user-images.githubusercontent.com/70752848/133273922-bbd8a751-afa5-46ca-abb5-065a02c70f60.png)

- 상자끝에서 **인접값**까지 선(whisker)을 긋는다.
  - 인접값(adjacent value): 내부 울타리 안에 있으면서 내부 울타리 가장 가까운 값

![스크린샷 2021-09-14 오후 11 19 11](https://user-images.githubusercontent.com/70752848/133274932-12ed9c6b-48be-45f9-9a52-bd553420d336.png)

- 데이터를 오름차순으로 정리
- 서수로 데이터의 위치 표시
- 중간값과 Q1, Q3의 위치 파악 및 값 도출
- 수염의 위치 및 이상치 파악

### 상자그림의 해석

- 상자의 길이(**IQR**): 전체 자료 중 가운데 **50%의 산포도**를 나타냄
- **중앙값**: 자료의 중심 위치로서 **분포의 대칭성**을 나타냄
  - 중앙값이 상자의 중앙에 위치: **대칭**인 분포
  - 중앙값이 상자의 왼쪽에 치우침: 오른쪽 꼬리가 긴 분포
  - 중앙값이 상자의 오른쪽에 치우침: 왼쪽 꼬리가 긴 분포
- 수염의 길이: **분포의 꼬리 부분이 얼마나** 긴가를 나타냄
- 울타리 밖의 값: **이상치**를 나타냄
  - 이상값(outlier): 내외부울타리 사이에 있는 값
  - 극단이상값(extreme outlier): 외부 울타리 밖에 있는 값
